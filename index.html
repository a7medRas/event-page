
<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø­Ø¯Ø« Ø§Ù„Ø¨Ù†Ø§Ø¡ â€“ Ø£ÙØ¶Ù„ 3 Ù…Ø´ØªØ±ÙƒÙŠÙ†</title>
  <style>
    body {
      background: #000;
      color: #FFD700;
      font-family: 'Tajawal', sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      margin-top: 40px;
    }
    img {
      max-width: 100%;
      border: 2px solid #FFD700;
      border-radius: 20px;
      margin: 20px 0;
      transition: transform 0.3s ease;
    }
    img:hover {
      transform: scale(1.03);
    }
    .buttons {
      margin: 20px 0;
    }
    .buttons button {
      background: #FFD700;
      border: none;
      border-radius: 12px;
      padding: 10px 20px;
      font-size: 16px;
      margin: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .buttons button:hover {
      background: #e6c200;
    }
    #top-bar {
      background: #FFD700;
      color: #000;
      padding: 10px;
      font-weight: bold;
      animation: scrollText 10s linear infinite;
    }
    @keyframes scrollText {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    #countdown, #points {
  background-color: #1a1a1a;
  border-radius: 50px;
  display: inline-block;
  padding: 10px 30px;
  border: 2px solid #FFD700;
      font-size: 20px;
      margin-top: 10px;
    }
    .qr-code {
      margin: 20px auto;
    }
    .lang-toggle {
      position: fixed;
      top: 10px;
      left: 10px;
      background: #FFD700;
      color: #000;
      border: none;
      padding: 5px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <button class="lang-toggle" onclick="toggleLanguage()">ğŸŒ EN</button>

  <div id="top-bar" data-text-ar="ğŸ“¢ Ù„Ø§ ØªÙÙˆÙ‘Øª Ø­Ø¯Ø« Ø§Ù„Ø¨Ù†Ø§Ø¡ â€“ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±Ùƒ!" data-text-en="ğŸ“¢ Don't miss the Build Event â€“ Prizes await you!">ğŸ“¢ Ù„Ø§ ØªÙÙˆÙ‘Øª Ø­Ø¯Ø« Ø§Ù„Ø¨Ù†Ø§Ø¡ â€“ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±Ùƒ!</div>
  <h1 id="main-title" data-text-ar="ğŸ“Š Ø£ÙØ¶Ù„ 3 Ù…Ø´ØªØ±ÙƒÙŠÙ†" data-text-en="ğŸ“Š Top 3 Participants">ğŸ“Š Ø£ÙØ¶Ù„ 3 Ù…Ø´ØªØ±ÙƒÙŠÙ†</h1>

  <div id="countdown">â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
  
  <div style="margin-top: 40px;">
    <h2 data-text-ar="ğŸ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²" data-text-en="ğŸ Prizes">ğŸ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</h2>
    <table style="margin: 0 auto; border-collapse: collapse; color: #FFD700;">
      <tr><th>Ø§Ù„Ù…Ø±ÙƒØ²</th><th>Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©</th></tr>
      <tr><td>ğŸ¥‡ Ø§Ù„Ø£ÙˆÙ„</td><td>2000 ÙØ§ØµÙˆÙ„ÙŠØ§</td></tr>
      <tr><td>ğŸ¥ˆ Ø§Ù„Ø«Ø§Ù†ÙŠ</td><td>1500 ÙØ§ØµÙˆÙ„ÙŠØ§</td></tr>
      <tr><td>ğŸ¥‰ Ø§Ù„Ø«Ø§Ù„Ø«</td><td>1000 ÙØ§ØµÙˆÙ„ÙŠØ§</td></tr>
    </table>
  </div>

  <div style="margin-top: 30px;">
    <h2 data-text-ar="ğŸ“Œ Ù…Ø±ÙƒØ² Ø§Ù„Ù†Ù‚Ø§Ø·" data-text-en="ğŸ“Œ Rank by Points">ğŸ“Œ Ù…Ø±ÙƒØ² Ø§Ù„Ù†Ù‚Ø§Ø·</h2>
    <table style="margin: 0 auto; border-collapse: collapse; color: #FFD700;">
      <tr><th>Ø§Ù„ÙØ¦Ø©</th><th>Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø·</th></tr>
      <tr><td>Ù…Ø¨ØªØ¯Ø¦</td><td>Ø£Ù‚Ù„ Ù…Ù† 500</td></tr>
      <tr><td>Ù…ØªÙˆØ³Ø·</td><td>Ù…Ù† 500 Ø¥Ù„Ù‰ 1000</td></tr>
      <tr><td>Ù…Ø­ØªØ±Ù</td><td>Ø£ÙƒØ«Ø± Ù…Ù† 1000</td></tr>
    </table>
  </div>

  <div style="margin-top: 30px;">
    <h2 data-text-ar="âš™ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø·" data-text-en="âš™ï¸ Point System">âš™ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø·</h2>
    <table style="margin: 0 auto; border-collapse: collapse; color: #FFD700;">
      <tr><th>Ø§Ù„Ù†Ø´Ø§Ø·</th><th>Ø§Ù„Ù†Ù‚Ø§Ø·</th></tr>
      <tr><td>â° ÙƒÙ„ Ø³Ø§Ø¹Ø© Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</td><td>1 Ù†Ù‚Ø·Ø©</td></tr>
      <tr><td>ğŸ«˜ ÙƒÙ„ ÙØ§ØµÙˆÙ„ÙŠØ§ Ù…Ø­ØµÙ‘Ù„Ø©</td><td>1 Ù†Ù‚Ø·Ø©</td></tr>
      <tr><td>ğŸ“© ÙƒÙ„ Ø¯Ø¹ÙˆØ© Ù…Ù‚Ø¨ÙˆÙ„Ø© (Ù…Ø°ÙŠØ¹ Ø¬Ø¯ÙŠØ¯)</td><td>50 Ù†Ù‚Ø·Ø©</td></tr>
    </table>
  </div>

  <div id="points" data-text-ar="ğŸ”¥ Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©: " data-text-en="ğŸ”¥ Your Current Points: ">ğŸ”¥ Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©: <span id="livePoints">0</span>
</div>

  <div style="margin: 20px 0;">
    <label for="userIdInput" data-text-ar="ğŸ”‘ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠ:" data-text-en="ğŸ”‘ Enter your ID:" style="display: block; margin-bottom: 5px;">ğŸ”‘ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…Ùƒ Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠ:</label>
    <input type="text" id="userIdInput" placeholder="Ù…Ø«Ù„Ø§Ù‹: ahmed123" style="padding: 8px; border-radius: 8px; width: 200px;">
    <button onclick="fetchUserPoints()" style="margin-right: 10px; padding: 8px 15px; border-radius: 8px; background-color: #FFD700; color: #000; border: none;">Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø·</button>
    <div id="userPointsResult" style="margin-top: 10px; font-size: 18px;"></div>
  </div>
  <div style="margin-top: 40px;">
    
<h2 data-text-ar="ğŸ† Ø£Ø¹Ù„Ù‰ 10 Ù…Ø´Ø§Ø±ÙƒÙŠÙ†"
    id="top10Header">
    ğŸ† Ø£Ø¹Ù„Ù‰ 10 Ù…Ø´Ø§Ø±ÙƒÙŠÙ†
    <button onclick="loadTop10()" style='margin-right: 10px; font-size: 14px; padding: 5px 12px; border-radius: 8px; background-color: #FFD700; color: #000; border: none; cursor: pointer;' data-text-ar="ğŸ”„ ØªØ­Ø¯ÙŠØ«" data-text-en="ğŸ”„ Refresh">ğŸ”„ ØªØ­Ø¯ÙŠØ«</button>
 data-text-en="ğŸ† Top 10 Participants">ğŸ† Ø£Ø¹Ù„Ù‰ 10 Ù…Ø´Ø§Ø±ÙƒÙŠÙ†</h2>
    <ol id="top10List" style="list-style-position: inside; font-size: 18px; line-height: 1.8;"></ol>
  </div>

  <img id="eventImage" src="top.png" alt="Top Participants"/>

  <div class="buttons">
    <button id="shareBtn" onclick="shareEvent()" data-text-ar="ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø­Ø¯Ø«" data-text-en="ğŸ”— Share Event">ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø­Ø¯Ø«</button>
    <button id="downloadBtn" onclick="downloadImage()" data-text-ar="â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©" data-text-en="â¬‡ï¸ Download Image">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</button>
  </div>

  <div class="qr-code">
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=https://a7medras.github.io/event-page/" alt="QR Code">
  </div>

  <script>
    let currentLang = "ar";

    function toggleLanguage() {
      currentLang = currentLang === "ar" ? "en" : "ar";
      document.documentElement.lang = currentLang;
      document.documentElement.dir = currentLang === "ar" ? "rtl" : "ltr";
      document.querySelector(".lang-toggle").textContent = currentLang === "ar" ? "ğŸŒ EN" : "ğŸŒ AR";

      document.querySelectorAll("[data-text-ar]").forEach(el => {
        el.textContent = el.getAttribute(`data-text-${currentLang}`);
      });
    }

    function shareEvent() {
      const url = 'https://a7medras.github.io/event-page/';
      if (navigator.share) {
        navigator.share({
          title: currentLang === "ar" ? 'Ø­Ø¯Ø« Ø§Ù„Ø¨Ù†Ø§Ø¡' : 'Build Event',
          text: currentLang === "ar" ? 'Ø´Ø§Ù‡Ø¯ Ø£ÙØ¶Ù„ 3 Ù…Ø´ØªØ±ÙƒÙŠÙ† ÙÙŠ Ø­Ø¯Ø« Ø§Ù„Ø¨Ù†Ø§Ø¡!' : 'See the Top 3 Participants in the Build Event!',
          url: url
        });
      } else {
        prompt(currentLang === "ar" ? "Ø§Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:" : "Copy the link to share:", url);
      }
    }

    function downloadImage() {
      const link = document.createElement('a');
      link.href = 'top.png';
      link.download = 'top_participants.png';
      link.click();
    }

    const countdown = document.getElementById("countdown");
    const endDate = new Date("2025-05-20T23:59:59");

    function updateCountdown() {
      const now = new Date();
      const diff = endDate - now;

      if (diff <= 0) {
        countdown.textContent = currentLang === "ar" ? "â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø­Ø¯Ø«!" : "â° The event has ended!";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      countdown.textContent = currentLang === "ar"
        ? `â³ ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ø­Ø¯Ø« Ø®Ù„Ø§Ù„: ${days}ÙŠ ${hours}Ø³ ${minutes}Ø¯ ${seconds}Ø«`
        : `â³ Ends in: ${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    let points = 0;
    function updatePoints() {
      document.getElementById("livePoints").textContent = points++;
    }

    setInterval(updateCountdown, 1000);
    setInterval(updatePoints, 3000);
    updateCountdown();
  
    async function fetchUserPoints() {
      const userId = document.getElementById("userIdInput").value.trim();
      const resultBox = document.getElementById("userPointsResult");

      if (!userId) {
        resultBox.textContent = currentLang === "ar" ? "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØªØ¹Ø±ÙŠÙÙŠ ØµØ­ÙŠØ­." : "Please enter a valid ID.";
        return;
      }

      try {
        const response = await fetch("points_data.json");
        const data = await response.json();
        if (data[userId] !== undefined) {
          resultBox.textContent = currentLang === "ar"
            ? `âœ… Ù†Ù‚Ø§Ø·Ùƒ: ${data[userId]}`
            : `âœ… Your Points: ${data[userId]}`;
        } else {
          resultBox.textContent = currentLang === "ar"
            ? "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù…."
            : "âŒ ID not found.";
        }
      } catch (error) {
        resultBox.textContent = "âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø·.";
      }
    }

    async function loadTop10() {
      try {
        const response = await fetch("points_data.json");
        const data = await response.json();

        const sorted = Object.entries(data)
          .sort((a, b) => b[1] - a[1])
          .slice(0, 10);

        const list = document.getElementById("top10List");
        
list.style.opacity = 0.5;
list.innerHTML = "";


        
setTimeout(() => {
  list.style.opacity = 1;
}, 500);
sorted.forEach(([id, points], index) => {

          let medal = "";
          if (index === 0) medal = "ğŸ¥‡ ";
          else if (index === 1) medal = "ğŸ¥ˆ ";
          else if (index === 2) medal = "ğŸ¥‰ ";
          list.innerHTML += `<li>${medal}${id} â€“ ${points}</li>`;
        });
      } catch (e) {
        document.getElementById("top10List").innerHTML = "<li>âš ï¸ ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†.</li>";
      }
    }

    
window.addEventListener("DOMContentLoaded", loadTop10);
setTimeout(() => { document.getElementById("top10List").style.opacity = 1; }, 500);

</script>
</body>
</html>
